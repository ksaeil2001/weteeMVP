# F-002: 과외 그룹 생성 및 매칭

**버전**: v1.1  
**작성일**: 2025-10-31  
**최종 수정일**: 2025-11-11  
**우선순위**: 1단계 MVP  
**작성자**: -

---

## 작성 전 체크리스트 ✅

```
[✓] 문제 정의서에서 관련 부분 다시 읽음
[✓] 경쟁 제품의 유사 기능 조사 완료
[✓] 이 기능과 연결된 다른 기능 목록 작성
[✓] 기술 용어 사용하지 않기로 다짐함
```

---

## 1. 이 기능은 왜 필요한가?

### 한 문장 요약
> 선생님이 관리할 학생들을 하나의 그룹으로 묶고, 초대 코드를 통해 학생과 학부모를 안전하게 연결하여 모든 과외 데이터의 중심 컨테이너를 만드는 기능

### 문제 정의서와의 연결

**해결하는 문제**: 문제 1 - 파편화된 도구 사용으로 인한 데이터 관리의 혼란

문제 정의서에서:
> "현직 과외 선생님의 증언에 따르면, '일정과 수업횟수 및 정산은 구글캘린더, 진도는 엑셀파일, 숙제는 카톡'으로 관리하고 있습니다. 과외 관리에 필요한 도구로 '카톡, 엑셀, 구글캘린더, 노션'을 모두 사용하며, 각 학생의 정보를 이 여러 도구에 흩어져서 보관하고 있습니다."

> "과외 관리의 핵심 요소인 일정, 진도, 정산, 소통이 서로 다른 플랫폼에 흩어져 있으면, 각 정보 간의 연결고리가 끊어집니다."

**핵심 문제**: 
- 한 선생님이 여러 학생을 가르치는데, 각 학생의 정보가 여러 도구에 흩어져 있음
- "이 학생의 다음 수업은 언제?" "이 학생 이번 달 수업 몇 회?" "이 학생의 진도는?" - 이런 질문에 답하려면 여러 앱을 오가야 함
- 학생/학부모 입장에서도 "우리 선생님 연락처가 뭐였지?" "수업 관련 자료가 어디 있지?" - 카톡, 이메일, 문자 등을 뒤져야 함

### 왜 다른 도구로 안 되는가?

**현재 사용자들이 쓰는 방법**:
- **카카오톡 단톡방**: 
  - 한계: 소통만 가능, 체계적 정보 관리 불가. 학생 5명이면 단톡방 5개 관리해야 하고, 각 방에서 나눈 대화 내용을 나중에 찾기 어려움
  
- **엑셀 학생 명단**: 
  - 한계: 선생님만 볼 수 있음. 학생/학부모는 접근 불가. 실시간 업데이트 안 됨. 수업 일정, 진도, 정산이 따로 관리됨
  
- **구글 캘린더 공유**: 
  - 한계: 일정만 공유 가능. 누가 어떤 학생인지 구분 어려움. 권한 관리 복잡. 과외 전용이 아니라 개인 일정과 섞임

**경쟁 제품의 한계**:
- **김과외**: 플랫폼 자체 매칭으로만 그룹 생성 가능. 이미 오프라인으로 연결된 선생님-학생은 사용 불가
- **과릿**: 그룹 개념이 있지만 1:1 매칭 중심. 한 선생님이 여러 학생을 체계적으로 관리하는 구조는 약함
- **수업기록노트**: 선생님 개인용 기록 앱. 학생/학부모와 연결되지 않음

### 우리의 접근 방식

1. **그룹이라는 명확한 컨테이너**: "수학 과외 그룹", "영어 중급반" 등 선생님이 원하는 이름으로 그룹을 만들고, 이 그룹 안에 학생들을 초대합니다. 모든 수업 일정, 진도, 정산은 이 그룹에 속하게 됩니다.

2. **초대 코드로 안전한 연결**: 선생님이 초대 코드를 생성하면, 그 코드를 받은 학생/학부모만 가입할 수 있습니다. 코드 하나당 한 명만 사용 가능하고, 7일 후 자동 만료되어 보안을 유지합니다.

3. **역할 자동 배정**: 초대 코드로 가입하면 자동으로 해당 그룹의 멤버가 되고, 선생님/학생/학부모 역할에 맞는 권한이 부여됩니다. 별도 설정 필요 없음.

4. **그룹 정보의 중앙 집중화**: 그룹에는 과목, 수업료, 수업 시간 등 기본 정보가 저장되고, 이후 모든 기능(일정, 출결, 진도, 정산)이 이 그룹을 기준으로 작동합니다.

---

## 2. 사용자 시나리오

### 시나리오 1: 선생님이 첫 번째 과외 그룹을 만드는 경우

**배경**: 김선생님은 방금 회원가입을 완료했습니다. 이제 첫 번째 학생인 이학생을 위한 과외 그룹을 만들려고 합니다.

**전제 조건**:
- 김선생님이 로그인되어 있음 (F-001 완료)
- 아직 생성된 과외 그룹이 없음

**단계**:

1. 김선생님이 로그인 후 메인 화면에 도착합니다.
   - 화면 중앙에 큰 카드: "첫 번째 과외 그룹을 만들어보세요"
   - 설명 텍스트: "학생을 초대하려면 먼저 과외 그룹을 만들어야 해요"
   - 버튼: "과외 그룹 만들기"

2. "과외 그룹 만들기" 버튼을 누릅니다.
   - **"과외 그룹 만들기"** 화면으로 전환

3. 과외 그룹 정보를 입력하는 폼이 나타납니다:
   - **그룹 이름** (필수): 예: "이학생 수학 과외"
     - 플레이스홀더: "예) 이학생 수학 과외, 고3 영어반"
     - 안내: "나중에 변경 가능합니다"
   
   - **과목** (필수): 드롭다운
     - 국어 / 영어 / 수학 / 과학 / 사회 / 기타
   
   - **수업 방식** (필수): 선택
     - 대면 / 비대면 (화상) / 혼합
   
   - **수업료 (회당)** (선택): 숫자 입력
     - 예: 50,000원
     - 안내: "나중에 입력하거나 수정할 수 있습니다"
   
   - **기본 수업 시간** (선택): 
     - 예: 120분
     - 안내: "일정 등록 시 기본값으로 사용됩니다"

4. 모든 필수 항목을 채우고 **"그룹 만들기"** 버튼을 누릅니다.

5. 그룹이 생성되고 **"그룹 상세"** 화면으로 이동합니다:
   - 상단에 그룹 이름: "이학생 수학 과외"
   - 과목 뱃지: "수학"
   - 탭: 개요 / 학생 / 일정 / 출결 / 진도 / 정산
   
6. 기본적으로 **"학생" 탭**이 선택되어 있습니다:
   - 안내 메시지: "아직 학생이 없습니다. 학생을 초대해보세요!"
   - 버튼: **"학생 초대하기"**

**결과**:
- 김선생님의 첫 번째 과외 그룹이 생성됨
- 그룹 ID가 자동 발급됨 (사용자에게는 안 보임)
- 이제 학생을 초대할 수 있는 상태

---

### 시나리오 2: 선생님이 학생 초대 코드를 생성하는 경우

**배경**: 김선생님이 "이학생 수학 과외" 그룹을 방금 만들었습니다. 이제 이학생을 이 그룹에 초대하려고 합니다.

**전제 조건**:
- 김선생님이 로그인되어 있음
- "이학생 수학 과외" 그룹이 이미 생성되어 있음

**단계**:

1. 김선생님이 그룹 상세 화면의 **"학생" 탭**에서 **"학생 초대하기"** 버튼을 누릅니다.

2. **"학생 초대"** 화면이 나타납니다:
   - 안내: "초대할 학생의 역할을 선택해주세요"
   - 두 가지 옵션:
     - **학생** 초대하기 (라디오 버튼, 기본 선택)
     - **학부모** 초대하기 (라디오 버튼)
   
3. 김선생님이 **"학생"**을 선택하고 **"초대 코드 생성"** 버튼을 누릅니다.

4. 초대 코드가 생성되고 **"초대 코드"** 화면이 나타납니다:
   - 큰 글씨로 코드 표시: **"AB12CD"**
   - 작은 글씨: "이 코드는 7일간 유효합니다"
   - 작은 글씨: "한 명만 사용할 수 있습니다"
   
   - 버튼들:
     - **"복사하기"** (클립보드에 복사)
     - **"카카오톡으로 공유"** (카톡 공유 시트 열림)
     - **"문자로 공유"** (SMS 앱 열림)
     - **"완료"** (그룹 상세로 돌아감)

5. 김선생님이 **"카카오톡으로 공유"**를 누릅니다.
   - 카카오톡 공유 시트가 열림
   - 미리 작성된 메시지:
     ```
     안녕하세요! 
     과외 관리 앱에 초대합니다.
     
     초대 코드: AB12CD
     
     앱을 다운로드하고 이 코드를 입력하면
     수업 일정과 진도를 확인할 수 있습니다.
     
     [앱 다운로드 링크]
     ```

6. 이학생에게 메시지를 보냅니다.

7. **"완료"**를 눌러 그룹 상세 화면으로 돌아옵니다.
   - **"학생" 탭**에 대기 중인 초대가 표시됩니다:
     - 상태: "초대 대기 중"
     - 초대 코드: AB12CD
     - 유효 기간: 2025-11-07까지
     - 버튼: "코드 재발송" / "초대 취소"

**결과**:
- 학생용 초대 코드 AB12CD가 생성됨
- 7일간 유효, 1회만 사용 가능
- 이학생이 이 코드로 가입하면 자동으로 이 그룹에 추가됨

---

### 시나리오 3: 학생이 초대 코드로 가입하여 그룹에 참여하는 경우

**배경**: 이학생은 김선생님께 카카오톡으로 초대 코드 "AB12CD"를 받았습니다. 앱을 다운로드하고 이 코드로 가입하려고 합니다.

**전제 조건**:
- 이학생은 아직 가입하지 않음
- 김선생님이 발급한 초대 코드 AB12CD가 유효함

**단계**:

1-11. [F-001 시나리오 2와 동일: 앱 실행 → 학생 선택 → 초대 코드 입력 → 회원가입 → 이메일 인증]

12. 가입이 완료되고 자동으로 로그인됩니다.

13. **중요**: 이학생은 자동으로 "이학생 수학 과외" 그룹에 추가됩니다.
    - 시스템이 초대 코드 AB12CD가 어느 그룹의 것인지 확인
    - 그룹 멤버로 등록
    - 역할: 학생

14. 메인 화면(학생용 대시보드)으로 이동합니다:
    - **"내 과외 그룹"** 섹션에 "이학생 수학 과외"가 표시됨
    - 그룹 카드 내용:
      - 그룹 이름: "이학생 수학 과외"
      - 선생님: 김선생
      - 과목: 수학
      - 다음 수업: "아직 일정이 없습니다"
    - 그룹 카드를 누르면 그룹 상세로 이동

15. 동시에 김선생님의 화면에서도 변화가 생깁니다:
    - **"학생" 탭**에서 "초대 대기 중"이 사라지고
    - **"이학생"**이 멤버로 추가됨:
      - 이름: 이학생
      - 학년: 중3
      - 가입일: 2025-10-31
      - 상태: 활성

**결과**:
- 이학생이 "이학생 수학 과외" 그룹의 멤버가 됨
- 김선생님은 이제 이학생의 일정, 출결, 진도를 관리할 수 있음
- 이학생은 자신의 수업 정보를 확인할 수 있음
- 초대 코드 AB12CD는 사용됨으로 표시되고 더 이상 사용 불가

---

### 시나리오 4: 선생님이 학부모 초대 코드를 생성하는 경우

**배경**: 이학생이 그룹에 참여했습니다. 이제 김선생님은 이학생의 학부모님도 앱에 초대하여 수업 진도를 공유하려고 합니다.

**전제 조건**:
- 김선생님이 로그인되어 있음
- "이학생 수학 과외" 그룹에 이학생이 이미 참여함

**단계**:

1. 김선생님이 그룹 상세 화면의 **"학생" 탭**에서 **"학부모 초대하기"** 버튼을 누릅니다.
   - (학생이 이미 있으면 "학생 초대하기" 옆에 "학부모 초대하기" 버튼이 별도로 표시됨)

2. **"학부모 초대"** 화면이 나타납니다:
   - 안내: "초대할 학부모님의 자녀를 선택해주세요"
   - 드롭다운: 현재 그룹의 학생 목록
     - 이학생 (선택)

3. 이학생을 선택하고 **"초대 코드 생성"** 버튼을 누릅니다.

4. 초대 코드가 생성되고 **"초대 코드"** 화면이 나타납니다:
   - 큰 글씨로 코드 표시: **"XY56ZW"**
   - 작은 글씨: "이 코드는 이학생의 학부모용입니다"
   - 작은 글씨: "이 코드는 7일간 유효합니다"
   - 버튼들: [시나리오 2와 동일]

5. 김선생님이 **"카카오톡으로 공유"**를 눌러 학부모님께 전송합니다.

**결과**:
- 학부모용 초대 코드 XY56ZW가 생성됨
- 이 코드는 이학생과 연결되어 있음
- 학부모가 이 코드로 가입하면 자동으로 "이학생의 학부모"로 등록됨

---

### 시나리오 5: 학부모가 초대 코드로 가입하여 그룹에 참여하는 경우

**배경**: 박학부모님은 김선생님께 카카오톡으로 초대 코드 "XY56ZW"를 받았습니다. 자녀의 수업 현황을 확인하기 위해 가입하려고 합니다.

**전제 조건**:
- 박학부모님은 아직 가입하지 않음
- 김선생님이 발급한 초대 코드 XY56ZW가 유효함
- 이 코드는 이학생과 연결되어 있음

**단계**:

1-11. [F-001 시나리오 3과 동일: 앱 실행 → 학부모 선택 → 초대 코드 입력 → 회원가입 → 이메일 인증]

12. 가입이 완료되고 자동으로 로그인됩니다.

13. **중요**: 박학부모님은 자동으로 "이학생 수학 과외" 그룹에 추가되고, **이학생과 연결**됩니다.
    - 시스템이 초대 코드 XY56ZW가 이학생 전용임을 확인
    - 그룹 멤버로 등록
    - 역할: 학부모 (자녀: 이학생)

14. 메인 화면(학부모용 대시보드)으로 이동합니다:
    - **"자녀의 과외"** 섹션에 "이학생 수학 과외"가 표시됨
    - 그룹 카드 내용:
      - 그룹 이름: "이학생 수학 과외"
      - 자녀: 이학생
      - 선생님: 김선생
      - 과목: 수학
      - 다음 수업: "아직 일정이 없습니다"
      - 이번 달 수업료: "아직 정산 내역이 없습니다"

15. 동시에 김선생님의 화면에서도 변화가 생깁니다:
    - **"학생" 탭**의 이학생 항목에 작은 아이콘 추가: "👨‍👩‍👦 학부모 연결됨"
    - 이학생 항목을 클릭하면 상세 정보에서 "연결된 학부모: 박학부모"를 확인 가능

**결과**:
- 박학부모님이 "이학생 수학 과외" 그룹의 멤버가 됨
- 이학생의 학부모로 자동 연결됨
- 이제 이학생의 수업 일정, 진도, 정산 내역을 실시간으로 확인 가능
- 김선생님은 진도 보고서를 작성하면 자동으로 박학부모님에게 공유됨

---

### 시나리오 6: 선생님이 여러 학생을 관리하기 위해 두 번째 그룹을 만드는 경우

**배경**: 김선생님은 이학생 외에 최학생에게도 과외를 시작하기로 했습니다. 최학생은 고등학생이고 영어를 가르칩니다. 별도의 그룹으로 관리하려고 합니다.

**전제 조건**:
- 김선생님이 로그인되어 있음
- "이학생 수학 과외" 그룹이 이미 존재함

**단계**:

1. 김선생님이 메인 화면(선생님용 대시보드)에 있습니다.
   - **"내 과외 그룹"** 섹션에 "이학생 수학 과외"가 표시됨
   - 상단에 버튼: **"+ 새 그룹 만들기"**

2. **"+ 새 그룹 만들기"** 버튼을 누릅니다.

3. **"과외 그룹 만들기"** 화면으로 이동합니다.
   - [시나리오 1과 동일한 폼]

4. 정보를 입력합니다:
   - 그룹 이름: "최학생 영어 과외"
   - 과목: 영어
   - 수업 방식: 대면
   - 수업료(회당): 60,000원
   - 기본 수업 시간: 90분

5. **"그룹 만들기"** 버튼을 누릅니다.

6. 두 번째 그룹이 생성되고 그룹 상세 화면으로 이동합니다.

7. 메인 화면으로 돌아가면 **"내 과외 그룹"** 섹션에 두 그룹이 표시됩니다:
   - "이학생 수학 과외" (학생 1명)
   - "최학생 영어 과외" (학생 0명)

**결과**:
- 김선생님이 두 개의 그룹을 관리하게 됨
- 각 그룹은 독립적으로 운영됨 (일정, 출결, 진도, 정산이 그룹별로 분리)
- 이학생과 최학생의 정보가 섞이지 않음

---

## 3. 이 기능에서 일어날 수 있는 문제들

### 그룹 생성 시 예외 상황

| 문제 상황 | 사용자에게 보여줄 메시지 | 시스템이 할 일 | 비고 |
|----------|----------------------|--------------|------|
| 필수 필드(그룹 이름, 과목)를 비워둠 | "필수 항목을 모두 입력해주세요" | 비어 있는 필드에 빨간색 표시 | - |
| 그룹 이름이 너무 짧음 (2자 미만) | "그룹 이름은 2자 이상 입력해주세요" | 입력 필드에 경고 표시 | 실시간 검증 |
| 그룹 이름이 너무 김 (50자 초과) | "그룹 이름은 50자 이하로 입력해주세요" | 50자에서 입력 차단 | 실시간 제한 |
| 이미 동일한 그룹 이름이 존재함 | "같은 이름의 그룹이 이미 있습니다. 다른 이름을 사용하거나 '(2)'를 추가해주세요" | 재입력 요청 | 같은 선생님이 같은 이름 그룹 만들 수 있음, 경고만 |
| 수업료가 비정상적 (예: 0원, 음수) | "수업료를 확인해주세요" | 입력 필드에 경고 표시 | 0원도 가능 (무료 과외) |
| 수업료가 너무 큼 (1,000만원 초과) | "수업료가 너무 큽니다. 다시 확인해주세요" | 재입력 요청 | 실수 방지 |
| 네트워크 오류로 그룹 생성 실패 | "네트워크 연결을 확인해주세요" | "다시 시도" 버튼 제공 | 입력 데이터 유지 |

### 초대 코드 생성 시 예외 상황

| 문제 상황 | 사용자에게 보여줄 메시지 | 시스템이 할 일 | 비고 |
|----------|----------------------|--------------|------|
| 학부모 초대 시 학생을 선택하지 않음 | "자녀를 선택해주세요" | 드롭다운 강조 표시 | - |
| 그룹에 이미 10개의 대기 중인 초대가 있음 | "대기 중인 초대가 너무 많습니다. 기존 초대를 완료하거나 취소한 후 다시 시도해주세요" | 대기 중인 초대 목록으로 이동 | 스팸 방지 |
| 코드 생성 중 중복 발생 | (사용자에게 보이지 않음) | 다른 코드로 자동 재생성 (최대 3회 시도) | 확률 매우 낮음 (36^6 = 약 20억 경우의 수) |
| 코드 생성 중 오류 발생 | "초대 코드 생성에 실패했습니다. 다시 시도해주세요" | "다시 시도" 버튼 제공 | 매우 드문 경우 |
| 네트워크 오류 | "네트워크 연결을 확인해주세요" | "다시 시도" 버튼 제공 | - |

### 초대 코드 사용 시 예외 상황

| 문제 상황 | 사용자에게 보여줄 메시지 | 시스템이 할 일 | 비고 |
|----------|----------------------|--------------|------|
| 초대 코드가 존재하지 않음 | "초대 코드를 확인해주세요" | 재입력 가능 | 보안상 "유효하지 않은 코드"라고만 표시 |
| 초대 코드가 만료됨 (7일 경과) | "초대 코드가 만료되었습니다. 선생님께 새 코드를 요청해주세요" | 초대 코드 입력 화면 유지 | F-001과 동일 |
| 초대 코드가 이미 사용됨 | "이미 사용된 초대 코드입니다. 선생님께 새 코드를 요청해주세요" | 초대 코드 입력 화면 유지 | F-001과 동일 |
| 학부모용 코드를 학생이 사용 시도 | "이 코드는 학부모 전용입니다. 역할을 다시 선택해주세요" | 사용자 유형 선택 화면으로 이동 | 역할 불일치 감지 |
| 학생용 코드를 학부모가 사용 시도 | "이 코드는 학생 전용입니다. 역할을 다시 선택해주세요" | 사용자 유형 선택 화면으로 이동 | 역할 불일치 감지 |

### 그룹 멤버십 관련 예외 상황

| 문제 상황 | 사용자에게 보여줄 메시지 | 시스템이 할 일 | 비고 |
|----------|----------------------|--------------|------|
| 이미 같은 그룹에 참여한 사용자가 다시 초대 받음 | "이미 이 그룹에 참여하고 있습니다" | 그룹 상세 화면으로 이동 | - |
| 한 학생에게 여러 학부모가 연결 시도 | [허용됨] 두 번째 학부모도 정상 추가 | 이학생 → 박학부모, 김학부모 모두 연결 | 부모 둘 다 확인 가능 |
| 선생님이 그룹을 삭제하려고 함 (학생이 있을 때) | "학생이 있는 그룹은 삭제할 수 없습니다. 먼저 모든 학생을 내보내거나 다른 그룹으로 이동시켜주세요" | 삭제 취소 | 데이터 보호 |
| 선생님이 초대를 취소하려고 함 | "이 초대를 취소하시겠습니까? 취소하면 코드를 사용할 수 없게 됩니다" | 확인 다이얼로그 표시 | 되돌릴 수 없음 |

---

## 4. 비즈니스 규칙

### 그룹 생성 규칙
- **그룹 이름**:
  - 최소 길이: 2자
  - 최대 길이: 50자
  - 중복 허용: 같은 선생님이 같은 이름의 그룹 여러 개 만들 수 있음 (경고만)
  
- **필수 입력 항목**: 그룹 이름, 과목, 수업 방식
- **선택 입력 항목**: 수업료, 기본 수업 시간
- **과목 선택지**: 국어, 영어, 수학, 과학, 사회, 기타
- **수업 방식 선택지**: 대면, 비대면(화상), 혼합

### 초대 코드 규칙
- **형식**: 6자리 영문 대문자 + 숫자 (예: AB12CD)
- **유효 기간**: 생성 후 7일
- **사용 횟수**: 1회만 사용 가능
- **역할 구분**: 학생용 코드 / 학부모용 코드가 별도로 생성됨
- **학부모 코드 특징**: 특정 학생과 연결되어 있음
- **대기 중인 초대 제한**: 그룹당 최대 10개 (스팸 방지)
- **선생님당 생성 가능 개수**: 무제한 (단, 그룹당 10개 제한)

### 그룹 멤버십 규칙
- **선생님**: 그룹당 1명 (그룹 생성자)
- **학생**: 그룹당 무제한 (실질적으로는 1-10명 정도 예상)
- **학부모**: 한 학생에게 여러 명 연결 가능 (부모 둘 다 확인)
- **역할 변경**: 가입 후 역할 변경 불가 (재가입 필요)
- **탈퇴**: 
  - 학생/학부모: 직접 탈퇴 가능
  - 선생님: 그룹 삭제만 가능 (학생이 없을 때만)

### 그룹 관리 규칙
- **그룹 수정**: 그룹 이름, 과목, 수업료 등 선생님이 언제든 수정 가능
- **그룹 삭제**: 
  - 조건: 학생이 0명이어야 함
  - 삭제 후: 복구 불가
- **그룹 보관**: 삭제 대신 "보관" 상태로 전환 가능 (2단계 기능)

---

## 5. 사용자별 권한

### 선생님

#### 할 수 있는 것
- ✅ 과외 그룹 생성 (무제한)
- ✅ 그룹 정보 수정 (이름, 과목, 수업료 등)
- ✅ 학생용 초대 코드 생성
- ✅ 학부모용 초대 코드 생성
- ✅ 초대 코드 재발송
- ✅ 대기 중인 초대 취소
- ✅ 그룹 멤버 목록 확인
- ✅ 학생을 그룹에서 내보내기 (2단계 기능)
- ✅ 그룹 삭제 (학생이 없을 때만)

#### 할 수 없는 것
- ❌ 다른 선생님의 그룹 보기 - 이유: 개인정보 보호
- ❌ 학생/학부모 없이 그룹만 무한정 생성 - 이유: 실제 사용하지 않는 빈 그룹 방지 (실질적 제한 없음, 경고만)

### 학생

#### 할 수 있는 것
- ✅ 초대 코드로 그룹 참여
- ✅ 자신이 속한 그룹 목록 확인
- ✅ 그룹 기본 정보 확인 (그룹 이름, 과목, 선생님)
- ✅ 그룹에서 탈퇴 (2단계 기능)

#### 할 수 없는 것
- ❌ 그룹 생성 - 이유: 선생님만 그룹 생성 가능
- ❌ 그룹 정보 수정 - 이유: 선생님만 수정 권한
- ❌ 초대 코드 생성 - 이유: 선생님만 초대 권한
- ❌ 다른 학생 정보 보기 - 이유: 개인정보 보호
- ❌ 학부모 연결 여부 확인 - 이유: 학생에게 불필요한 정보

### 학부모

#### 할 수 있는 것
- ✅ 초대 코드로 그룹 참여 (자녀와 자동 연결)
- ✅ 자녀의 그룹 목록 확인
- ✅ 그룹 기본 정보 확인 (그룹 이름, 과목, 선생님)
- ✅ 자녀의 수업 정보 확인 (일정, 출결, 진도, 정산)
- ✅ 그룹에서 탈퇴 (2단계 기능)

#### 할 수 없는 것
- ❌ 그룹 생성 - 이유: 선생님만 그룹 생성 가능
- ❌ 그룹 정보 수정 - 이유: 선생님만 수정 권한
- ❌ 초대 코드 생성 - 이유: 선생님만 초대 권한
- ❌ 다른 학생 정보 보기 - 이유: 자녀의 정보만 확인 가능
- ❌ 자녀의 계정 관리 - 이유: 학생 본인만 가능

---

## 6. UI 요구사항

### 그룹 생성 화면

**레이아웃**:
- 상단: "과외 그룹 만들기" 타이틀
- 중앙: 입력 폼 (스크롤 가능)
- 하단: "그룹 만들기" 버튼 (고정)

**주요 컴포넌트**:
- **입력 필드들**: 
  - 그룹 이름 (텍스트)
  - 과목 (드롭다운)
  - 수업 방식 (라디오 버튼 또는 세그먼트 컨트롤)
  - 수업료 (숫자, 원화 표시)
  - 기본 수업 시간 (숫자, 분 단위)
  
- **버튼**: 
  - "그룹 만들기" - 파란색, 전체 너비
  
- **안내 텍스트**: 
  - 각 필드 아래 작은 글씨로 설명
  - 예: "나중에 변경 가능합니다"

**인터랙션**:
- 필수 필드가 비어있으면 "그룹 만들기" 버튼 비활성화
- 실시간 검증: 그룹 이름 길이, 수업료 범위
- 수업료 입력 시 천 단위 콤마 자동 삽입

### 그룹 상세 화면

**레이아웃**:
- 상단: 그룹 이름 + 과목 뱃지
- 탭 바: 개요 / 학생 / 일정 / 출결 / 진도 / 정산
- 내용: 선택된 탭에 따라 변경

**학생 탭**:
- 학생이 없을 때: 안내 메시지 + "학생 초대하기" 버튼
- 학생이 있을 때:
  - 학생 목록 (카드 형식)
  - 각 카드: 이름, 학년, 학부모 연결 여부
  - 버튼: "학생 초대하기" / "학부모 초대하기"

**대기 중인 초대 표시**:
- 회색 카드
- 내용: "초대 대기 중", 초대 코드, 유효 기간
- 버튼: "코드 재발송" / "초대 취소"

### 초대 코드 화면

**레이아웃**:
- 중앙: 큰 코드 표시 (AB12CD)
- 안내 문구 2줄
- 버튼 4개 (세로 배치)

**주요 컴포넌트**:
- **코드 표시**: 
  - 큰 글씨 (32pt 이상)
  - 고정폭 폰트
  - 복사 가능 (롱 프레스)
  
- **버튼들**:
  - "복사하기" (클립보드)
  - "카카오톡으로 공유"
  - "문자로 공유"
  - "완료"
  
**인터랙션**:
- 코드 롱 프레스 시 자동 복사 + 토스트 메시지
- 공유 버튼들은 각 플랫폼의 공유 시트 열기
- "완료" 누르면 그룹 상세로 돌아가기

### 메인 화면 (선생님용)

**레이아웃**:
- 상단: "내 과외 그룹" 헤더 + "+ 새 그룹 만들기" 버튼
- 중앙: 그룹 카드 리스트

**그룹 카드**:
- 그룹 이름 (큰 글씨)
- 과목 뱃지
- 학생 수: "학생 3명"
- 다음 수업: "10월 31일 (금) 오후 3시"
- 카드 전체 클릭 → 그룹 상세로 이동

---

## 7. 다른 기능과의 연결

### 의존하는 기능 (이것들이 먼저 있어야 함)

- **F-001: 회원가입 및 로그인** - 이유: 사용자가 가입해야 그룹 생성 가능. 초대 코드 시스템이 F-001과 밀접하게 연결됨

### 이 기능에 의존하는 기능 (이것 다음에 만들어질 것들)

- **F-003: 수업 일정 관리** - 이유: 일정은 그룹에 속함. 그룹 없이 일정만 있을 수 없음
- **F-004: 출결 관리** - 이유: 출결은 특정 그룹의 특정 학생에 대한 것
- **F-005: 수업 기록 및 진도 관리** - 이유: 진도는 그룹별로 관리됨
- **F-006: 과외비 자동 정산** - 이유: 정산은 그룹의 수업료 정보를 기반으로 함
- **F-007: 기본 프로필 및 설정** - 이유: 그룹 목록을 프로필에서 확인

### 함께 사용되는 기능 (밀접하게 연결됨)

- **F-001: 회원가입 및 로그인** - 관계: 초대 코드가 F-001의 회원가입 프로세스에서 사용됨. F-002에서 초대 코드를 생성하면 F-001에서 사용자가 그 코드로 가입함

---

## 8. 향후 고려사항 (2단계 이후)

### 기능 확장

- **그룹 보관 기능**: 
  - 과외가 종료되었지만 데이터는 남기고 싶을 때 "보관" 상태로 전환
  - 왜 2단계인가: MVP에서는 활성 과외 관리에 집중. 과거 데이터 보관은 나중에

- **그룹 템플릿**: 
  - 자주 만드는 그룹 설정을 템플릿으로 저장
  - 예: "중3 수학 과외" 템플릿 → 과목, 수업료, 기본 시간 미리 설정
  - 왜 2단계인가: MVP 사용자 피드백 후 필요성 확인

- **학생 이동 기능**: 
  - 한 그룹에서 다른 그룹으로 학생 이동
  - 예: "수학 기초반" → "수학 심화반"
  - 왜 2단계인가: 복잡도 증가. 일단 그룹 삭제 후 재생성으로 해결 가능

- **그룹 공동 관리**: 
  - 두 명 이상의 선생님이 한 그룹을 함께 관리
  - 예: 주강사 + 보조강사
  - 왜 2단계인가: MVP에서는 1:N 관계에 집중

### 개선 아이디어

- **초대 링크 (딥링크)**: 
  - 코드 대신 링크로 초대
  - 예: tutorapp://join/AB12CD
  - 링크 클릭 시 앱 설치 + 자동 가입 유도
  - 왜 나중인가: 딥링크 구현 복잡도. 코드로도 충분히 작동

- **QR 코드 초대**: 
  - 초대 코드를 QR 코드로 변환
  - 대면 상황에서 QR 스캔으로 즉시 가입
  - 왜 나중인가: 추가 개발 시간. 카톡 공유로도 충분

- **그룹 아이콘/색상 커스터마이징**: 
  - 그룹마다 아이콘과 색상 선택
  - 여러 그룹을 시각적으로 구분
  - 왜 나중인가: 기능적 가치보다 미적 가치. MVP 이후

---

## 9. 성공 지표

### 정량적 지표

| 지표명 | 측정 방법 | 목표값 | 측정 시점 |
|--------|---------|--------|----------|
| 그룹 생성 완료율 | "그룹 만들기" 시작 대비 완료 비율 | 90% 이상 | 매주 |
| 평균 그룹 생성 시간 | 시작부터 완료까지 소요 시간 | 2분 이내 | 매주 |
| 초대 코드 사용률 | 생성된 코드 중 실제 사용된 비율 | 70% 이상 | 매월 |
| 초대 코드 만료율 | 생성된 코드 중 만료된 비율 | 20% 미만 | 매월 |
| 선생님당 평균 그룹 수 | 전체 그룹 수 / 선생님 수 | 1.5개 | 6개월 후 |
| 그룹당 평균 학생 수 | 전체 학생 수 / 그룹 수 | 3-5명 | 6개월 후 |

### 정성적 지표

- **사용자 피드백**: "그룹 만들기가 직관적이었나요?" 설문 조사 (목표: 4.0/5.0 이상)
- **문제 해결도**: 문제 정의서의 "파편화된 도구 사용" 문제 해결 여부
  - "이제 학생 정보를 한 곳에서 관리할 수 있나요?" 설문
  - 목표: "그렇다" 80% 이상

---

## 10. 알려진 제약사항 및 트레이드오프

### 기술적 제약

**그룹 이름 중복 허용**:
- **제약사항**: 같은 선생님이 동일한 이름의 그룹을 여러 개 만들 수 있음
- **이유**: 
  - "수학 과외" 같은 일반적인 이름을 여러 학생에게 사용하고 싶을 수 있음
  - 강제로 고유 이름을 요구하면 사용자 불편
- **대응**: 경고 메시지만 표시, 차단하지 않음
- **향후 개선**: 2단계에서 "수학 과외 (2)", "수학 과외 (3)" 자동 제안

**초대 코드 7일 제한**:
- **제약사항**: 7일 후 자동 만료되어 재발급 필요
- **이유**: 보안 (방치된 코드 악용 방지)
- **트레이드오프**: 사용자 편의 < 보안
- **완화책**: 선생님이 언제든 재발급 가능

### 의도적 선택

**학생을 그룹 간 이동 불가 (MVP)**:
- **포기한 기능**: 학생을 A그룹에서 B그룹으로 이동
- **이유**: 
  - MVP에서는 구조 단순화
  - 그룹 삭제 후 재생성으로 해결 가능
  - 실제 사용 케이스가 많지 않을 것으로 예상
- **얻은 것**: 개발 복잡도 감소, 빠른 출시
- **향후 계획**: 2단계에서 사용자 피드백 기반으로 추가 결정

**그룹 삭제 시 학생이 없어야 함**:
- **제약사항**: 학생이 있는 그룹은 삭제 불가
- **이유**: 
  - 실수로 삭제 시 학생의 모든 데이터(일정, 출결, 진도) 손실
  - 데이터 보호가 최우선
- **대응**: 학생을 먼저 내보내거나 그룹 이동 후 삭제
- **향후 개선**: 2단계에서 "보관" 기능 추가

**초대 코드 역할 불일치 시 에러**:
- **제약사항**: 학생용 코드를 학부모가 사용하면 에러
- **이유**: 
  - 역할이 명확해야 권한 관리 가능
  - 실수 방지
- **완화책**: 에러 메시지에서 역할 재선택 가능하도록 안내

**그룹당 대기 중인 초대 10개 제한**:
- **제약사항**: 한 그룹에 10개 이상의 초대 동시 생성 불가
- **이유**: 스팸 방지, 리소스 보호
- **트레이드오프**: 대량 초대 불가 vs 시스템 안정성
- **실제 영향**: 거의 없음 (한 선생님이 동시에 10명 이상 초대하는 경우 드뭄)

---

## 11. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| v1.0 | 2025-10-31 | 초안 작성 | - |
| v1.1 | 2025-11-11 | 초대 코드 중복 생성 정책 명시 (이슈 #5 해결) | AI Assistant |

---

## 12. 첨부 자료

- [ ] 와이어프레임 이미지 (그룹 생성, 초대 코드, 그룹 상세)
- [ ] 사용자 플로우 다이어그램 (초대 프로세스)
- [ ] 관련 리서치 자료 (문제 정의서 참조)
- [ ] 경쟁 제품 분석 자료 (HANDOVER 문서 참조)

---

**다음 기능**: F-003 수업 일정 관리
