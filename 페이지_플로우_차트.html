<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeTee í˜ì´ì§€ í”Œë¡œìš° ì°¨íŠ¸</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .subtitle {
            opacity: 0.9;
            font-size: 16px;
        }
        
        .controls {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        label {
            font-weight: 600;
            color: #495057;
        }
        
        select, button {
            padding: 8px 16px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        select:hover, button:hover {
            border-color: #667eea;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            font-weight: 600;
        }
        
        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .stats {
            display: flex;
            gap: 20px;
            padding: 20px 30px;
            background: #fff;
            border-bottom: 2px solid #e9ecef;
        }
        
        .stat-card {
            flex: 1;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            color: white;
            text-align: center;
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .chart-container {
            padding: 30px;
            background: white;
            overflow-x: auto;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
        }
        
        .legend {
            padding: 20px 30px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
        }
        
        .legend-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .legend-items {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        .info-panel {
            padding: 20px 30px;
            background: #e7f3ff;
            border-top: 2px solid #bee5eb;
        }
        
        .info-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #004085;
        }
        
        .info-content {
            color: #004085;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ WeTee í˜ì´ì§€ í”Œë¡œìš° ì°¨íŠ¸</h1>
            <p class="subtitle">ê³¼ì™¸ ê´€ë¦¬ í†µí•© í”Œë«í¼ - ì „ì²´ í™”ë©´ íë¦„ ì‹œê°í™”</p>
        </header>
        
        <div class="controls">
            <div class="control-group">
                <label for="viewSelect">ë³´ê¸°:</label>
                <select id="viewSelect" onchange="changeView()">
                    <option value="full">ì „ì²´ í”Œë¡œìš°</option>
                    <option value="onboarding">ì˜¨ë³´ë”© í”Œë¡œìš°</option>
                    <option value="main">ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜</option>
                    <option value="lesson">ìˆ˜ì—… ê´€ë¦¬</option>
                    <option value="settlement">ì •ì‚° í”Œë¡œìš°</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="roleFilter">ì—­í• :</label>
                <select id="roleFilter">
                    <option value="all">ì „ì²´</option>
                    <option value="teacher">ì„ ìƒë‹˜</option>
                    <option value="student">í•™ìƒ</option>
                    <option value="parent">í•™ë¶€ëª¨</option>
                </select>
            </div>
            
            <button onclick="resetView()">ì´ˆê¸°í™”</button>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number">43</div>
                <div class="stat-label">ì´ í˜ì´ì§€</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">8</div>
                <div class="stat-label">í•µì‹¬ ê¸°ëŠ¥</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">4</div>
                <div class="stat-label">ë©”ì¸ íƒ­</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">ì‚¬ìš©ì ì—­í• </div>
            </div>
        </div>
        
        <div class="chart-container">
            <div id="flowchart" class="mermaid"></div>
        </div>
        
        <div class="legend">
            <div class="legend-title">ë²”ë¡€</div>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color" style="background: #667eea;"></div>
                    <span>ì¸ì¦ & ì˜¨ë³´ë”©</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f093fb;"></div>
                    <span>ê·¸ë£¹ ê´€ë¦¬</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #4facfe;"></div>
                    <span>ì¼ì • ê´€ë¦¬</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #43e97b;"></div>
                    <span>ì¶œê²° & ìˆ˜ì—… ê¸°ë¡</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ffa751;"></div>
                    <span>ì •ì‚°</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fa709a;"></div>
                    <span>í”„ë¡œí•„ & ì„¤ì •</span>
                </div>
            </div>
        </div>
        
        <div class="info-panel">
            <div class="info-title">ğŸ“Œ ì‚¬ìš© ì•ˆë‚´</div>
            <div class="info-content">
                â€¢ ìƒë‹¨ "ë³´ê¸°" ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ íŠ¹ì • í”Œë¡œìš°ë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                â€¢ "ì—­í• " í•„í„°ë¡œ ì—­í• ë³„ ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                â€¢ ì°¨íŠ¸ëŠ” í™•ëŒ€/ì¶•ì†Œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤ (ë§ˆìš°ìŠ¤ íœ  ë˜ëŠ” í•€ì¹˜ ì œìŠ¤ì²˜).<br>
                â€¢ ê° ìƒìëŠ” í˜ì´ì§€ë¥¼ ë‚˜íƒ€ë‚´ë©°, í™”ì‚´í‘œëŠ” í˜ì´ì§€ ê°„ ì´ë™ ê²½ë¡œì…ë‹ˆë‹¤.
            </div>
        </div>
    </div>

    <script>
        // Mermaid ì´ˆê¸°í™”
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        const flows = {
            full: `
                graph TD
                    START[ì•± ì‹œì‘] --> S001[S-001<br/>ìŠ¤í”Œë˜ì‹œ]
                    S001 --> S002[S-002<br/>ì˜¨ë³´ë”©]
                    S002 --> S003[S-003<br/>ë¡œê·¸ì¸]
                    S003 --> S004[S-004<br/>íšŒì›ê°€ì…]
                    S003 --> S005[S-005<br/>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •]
                    S004 --> S003
                    S003 --> S012[S-012<br/>ë‹¬ë ¥ ë©”ì¸ í™ˆ]
                    
                    S012 --> S013[S-013<br/>ì •ê·œ ìˆ˜ì—… ë“±ë¡]
                    S012 --> S014[S-014<br/>ì¼ì • ìƒì„¸]
                    S012 --> S017[S-017<br/>ë³´ê°• ì˜ˆì•½]
                    S012 --> S019[S-019<br/>ì¶œê²° ì²´í¬]
                    S012 --> S041[S-041<br/>ì•Œë¦¼ ì„¼í„°]
                    S012 --> S034[S-034<br/>í”„ë¡œí•„]
                    
                    S014 --> S022[S-022<br/>ìˆ˜ì—… ê¸°ë¡ ì‘ì„±]
                    S022 --> S023[S-023<br/>ìˆ˜ì—… ê¸°ë¡ ìƒì„¸]
                    
                    S034 --> S006[S-006<br/>ê·¸ë£¹ ìƒì„±]
                    S034 --> S010[S-010<br/>ì´ˆëŒ€ ì½”ë“œ ì…ë ¥]
                    S034 --> S008[S-008<br/>ê·¸ë£¹ ìƒì„¸]
                    S034 --> S027[S-027<br/>ì •ì‚° ë©”ì¸]
                    S034 --> S036[S-036<br/>ì„¤ì • ë©”ì¸]
                    
                    S027 --> S028[S-028<br/>ì²­êµ¬ì„œ ìƒì„±]
                    S027 --> S029[S-029<br/>ì²­êµ¬ì„œ ìƒì„¸]
                    S029 --> S030[S-030<br/>ê²°ì œí•˜ê¸°]
                    S030 --> S031[S-031<br/>ê²°ì œ ì™„ë£Œ]
                    S031 --> S032[S-032<br/>ì˜ìˆ˜ì¦ ìƒì„¸]
                    
                    S008 --> S025[S-025<br/>ì§„ë„ íˆìŠ¤í† ë¦¬]
                    S025 --> S026[S-026<br/>ì§„ë„ ë¦¬í¬íŠ¸]
                    
                    style S001 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S002 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S003 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S004 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S005 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    
                    style S006 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    style S008 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    style S010 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    
                    style S012 fill:#4facfe,stroke:#333,stroke-width:3px,color:#fff
                    style S013 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S014 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S017 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    
                    style S019 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S022 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S023 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S025 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S026 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    
                    style S027 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S028 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S029 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S030 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S031 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S032 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    
                    style S034 fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style S036 fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style S041 fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
            `,
            
            onboarding: `
                graph TD
                    START[ì•± ì„¤ì¹˜ í›„<br/>ì²« ì‹¤í–‰] --> S001[S-001<br/>ìŠ¤í”Œë˜ì‹œ 2ì´ˆ]
                    S001 --> CHECK{í† í°<br/>í™•ì¸}
                    CHECK -->|ì—†ìŒ| S002[S-002<br/>ì˜¨ë³´ë”©<br/>3ê°œ ìŠ¬ë¼ì´ë“œ]
                    CHECK -->|ìˆìŒ| S012[S-012<br/>ë‹¬ë ¥ ë©”ì¸]
                    
                    S002 --> SKIP{ì‚¬ìš©ì<br/>ì„ íƒ}
                    SKIP -->|ê±´ë„ˆë›°ê¸°| S003[S-003<br/>ë¡œê·¸ì¸]
                    SKIP -->|ì‹œì‘í•˜ê¸°| S003
                    
                    S003 --> LOGIN{ì„ íƒ}
                    LOGIN -->|ë¡œê·¸ì¸| AUTH[ì¸ì¦ ì²˜ë¦¬]
                    LOGIN -->|íšŒì›ê°€ì…| S004[S-004<br/>íšŒì›ê°€ì…]
                    LOGIN -->|ë¹„ë²ˆ ì°¾ê¸°| S005[S-005<br/>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •]
                    
                    S004 --> EMAIL[ì´ë©”ì¼<br/>ì¸ì¦]
                    EMAIL --> S003B[S-003<br/>ë¡œê·¸ì¸<br/>ì¬ì§„ì…]
                    S003B --> AUTH
                    
                    S005 --> S003C[S-003<br/>ë¡œê·¸ì¸]
                    
                    AUTH --> S012
                    
                    S012 --> FIRST{ì²« ë¡œê·¸ì¸?}
                    FIRST -->|Yes| GUIDE[ê·¸ë£¹ ìƒì„±<br/>ë˜ëŠ” ì°¸ì—¬ ì•ˆë‚´]
                    FIRST -->|No| DONE[í™ˆ í™”ë©´]
                    
                    GUIDE -->|ì„ ìƒë‹˜| S006[S-006<br/>ê·¸ë£¹ ìƒì„±]
                    GUIDE -->|í•™ìƒ/í•™ë¶€ëª¨| S010[S-010<br/>ì´ˆëŒ€ ì½”ë“œ ì…ë ¥]
                    
                    S006 --> DONE2[ì˜¨ë³´ë”© ì™„ë£Œ]
                    S010 --> DONE2
                    
                    style START fill:#667eea,stroke:#333,stroke-width:3px,color:#fff
                    style S001 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S002 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S003 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S004 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S005 fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style S012 fill:#4facfe,stroke:#333,stroke-width:3px,color:#fff
                    style S006 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    style S010 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    style CHECK fill:#ffe66d,stroke:#333,stroke-width:2px
                    style SKIP fill:#ffe66d,stroke:#333,stroke-width:2px
                    style LOGIN fill:#ffe66d,stroke:#333,stroke-width:2px
                    style FIRST fill:#ffe66d,stroke:#333,stroke-width:2px
            `,
            
            main: `
                graph TD
                    S012[S-012<br/>ë‹¬ë ¥ ë©”ì¸<br/>ğŸ  í™ˆ íƒ­]
                    S012_2[S-012<br/>ë‹¬ë ¥ ë©”ì¸<br/>ğŸ“… ì¼ì • íƒ­]
                    S041[S-041<br/>ì•Œë¦¼ ì„¼í„°<br/>ğŸ”” ì•Œë¦¼ íƒ­]
                    S034[S-034<br/>í”„ë¡œí•„<br/>ğŸ‘¤ ë‚´ì •ë³´ íƒ­]
                    
                    S012 -.íƒ­ ì „í™˜.-> S012_2
                    S012_2 -.íƒ­ ì „í™˜.-> S041
                    S041 -.íƒ­ ì „í™˜.-> S034
                    S034 -.íƒ­ ì „í™˜.-> S012
                    
                    S012 -->|ìˆ˜ì—… ì¹´ë“œ| S014[S-014<br/>ì¼ì • ìƒì„¸]
                    S012 -->|+ ë²„íŠ¼| MENU{ì•¡ì…˜<br/>ì„ íƒ}
                    S012 -->|ì¶œê²° ì²´í¬| S019[S-019<br/>ì¶œê²° ì²´í¬]
                    
                    MENU -->|ì„ ìƒë‹˜| S013[S-013<br/>ì •ê·œ ìˆ˜ì—… ë“±ë¡]
                    MENU -->|í•™ìƒ| S017[S-017<br/>ë³´ê°• ì˜ˆì•½]
                    MENU -->|ëª¨ë‘| S018[S-018<br/>ì‹œí—˜ ì¼ì • ë“±ë¡]
                    
                    S014 -->|ìˆ˜ì—… ê¸°ë¡| S022[S-022<br/>ìˆ˜ì—… ê¸°ë¡ ì‘ì„±]
                    S022 --> S023[S-023<br/>ìˆ˜ì—… ê¸°ë¡ ìƒì„¸]
                    
                    S041 -->|ì•Œë¦¼ íƒ­| S042[S-042<br/>ì•Œë¦¼ ìƒì„¸]
                    S041 -->|í‘¸ì‹œ ì•Œë¦¼| TARGET[í•´ë‹¹ í˜ì´ì§€<br/>ì§ì ‘ ì´ë™]
                    
                    S034 -->|ê·¸ë£¹ ì¹´ë“œ| S008[S-008<br/>ê·¸ë£¹ ìƒì„¸]
                    S034 -->|ê·¸ë£¹ ìƒì„±| S006[S-006<br/>ê·¸ë£¹ ìƒì„±]
                    S034 -->|ì„¤ì •| S036[S-036<br/>ì„¤ì • ë©”ì¸]
                    S034 -->|ì •ì‚°| S027[S-027<br/>ì •ì‚° ë©”ì¸]
                    
                    S008 --> S025[S-025<br/>ì§„ë„ íˆìŠ¤í† ë¦¬]
                    
                    style S012 fill:#4facfe,stroke:#333,stroke-width:4px,color:#fff
                    style S012_2 fill:#4facfe,stroke:#333,stroke-width:4px,color:#fff
                    style S041 fill:#fa709a,stroke:#333,stroke-width:4px,color:#fff
                    style S034 fill:#fa709a,stroke:#333,stroke-width:4px,color:#fff
                    
                    style S013 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S014 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S017 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S018 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S019 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S022 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S023 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S006 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    style S008 fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
                    style S025 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S027 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S036 fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style S042 fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style MENU fill:#ffe66d,stroke:#333,stroke-width:2px
            `,
            
            lesson: `
                graph TD
                    S012[S-012<br/>ë‹¬ë ¥ ë©”ì¸] -->|ìˆ˜ì—… ì¹´ë“œ<br/>í´ë¦­| S014[S-014<br/>ì¼ì • ìƒì„¸]
                    
                    S014 --> ACT{ì‚¬ìš©ì<br/>ì•¡ì…˜}
                    
                    ACT -->|ì¶œê²° ì²´í¬| S019[S-019<br/>ì¶œê²° ì²´í¬<br/>ë°”í…€ì‹œíŠ¸]
                    ACT -->|ìˆ˜ì—… ê¸°ë¡| S022[S-022<br/>ìˆ˜ì—… ê¸°ë¡ ì‘ì„±]
                    ACT -->|ì¼ì • ìˆ˜ì •| S015[S-015<br/>ì¼ì • ìˆ˜ì •]
                    
                    S019 -->|ì¶œì„/ì§€ê°/ê²°ì„<br/>ì„ íƒ| S014B[S-014<br/>ìƒíƒœ ì—…ë°ì´íŠ¸]
                    
                    S022 --> INPUT{ì‘ì„±}
                    INPUT -->|ì„ì‹œ ì €ì¥| LOCAL[ë¡œì»¬ ì €ì¥]
                    INPUT -->|ì €ì¥ ë° ê³µìœ | S023[S-023<br/>ìˆ˜ì—… ê¸°ë¡ ìƒì„¸]
                    
                    S023 --> NOTI[í•™ìƒ/í•™ë¶€ëª¨<br/>ì•Œë¦¼ ë°œì†¡]
                    NOTI --> S041[S-041<br/>ì•Œë¦¼ ìˆ˜ì‹ ]
                    
                    S023 -->|ì´ì „ ê¸°ë¡| S025[S-025<br/>ì§„ë„ íˆìŠ¤í† ë¦¬]
                    S025 -->|ë¦¬í¬íŠ¸ ìƒì„±| S026[S-026<br/>ì§„ë„ ë¦¬í¬íŠ¸]
                    S026 -->|í•™ë¶€ëª¨ ê³µìœ | NOTI2[í•™ë¶€ëª¨<br/>ì•Œë¦¼ ë°œì†¡]
                    
                    S014B --> S023B{ê¸°ë¡<br/>ì‘ì„±?}
                    S023B -->|Yes| VIEW[ìˆ˜ì—… ê¸°ë¡<br/>í™•ì¸]
                    S023B -->|No| PROMPT[ì‘ì„± ê¶Œìœ ]
                    
                    LOCAL -.3ë¶„ë§ˆë‹¤.-> SYNC[ì„œë²„ ë™ê¸°í™”]
                    
                    style S012 fill:#4facfe,stroke:#333,stroke-width:3px,color:#fff
                    style S014 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S015 fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
                    style S019 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S022 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S023 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S025 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S026 fill:#43e97b,stroke:#333,stroke-width:2px,color:#fff
                    style S041 fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style ACT fill:#ffe66d,stroke:#333,stroke-width:2px
                    style INPUT fill:#ffe66d,stroke:#333,stroke-width:2px
                    style S023B fill:#ffe66d,stroke:#333,stroke-width:2px
            `,
            
            settlement: `
                graph TD
                    T[ì„ ìƒë‹˜] --> S027T[S-027<br/>ì •ì‚° ë©”ì¸<br/>ì„ ìƒë‹˜ ë·°]
                    P[í•™ë¶€ëª¨] --> S027P[S-027<br/>ì •ì‚° ë©”ì¸<br/>í•™ë¶€ëª¨ ë·°]
                    
                    S027T -->|ì²­êµ¬ì„œ ìƒì„±| S028[S-028<br/>ì²­êµ¬ì„œ ìƒì„±]
                    S028 -->|ê·¸ë£¹ ì„ íƒ| SELECT[ê·¸ë£¹/ê¸°ê°„<br/>ì„ íƒ]
                    SELECT -->|ìˆ˜ì—… ì„ íƒ| CALC[ê¸ˆì•¡ ìë™<br/>ê³„ì‚°]
                    CALC -->|ë°œì†¡| S029T[S-029<br/>ì²­êµ¬ì„œ ìƒì„¸<br/>ì„ ìƒë‹˜]
                    
                    S029T -->|ì•Œë¦¼ ë°œì†¡| NOTI[í•™ë¶€ëª¨<br/>í‘¸ì‹œ ì•Œë¦¼]
                    NOTI --> S041P[S-041<br/>ì•Œë¦¼ ì„¼í„°<br/>í•™ë¶€ëª¨]
                    
                    S041P -->|ì•Œë¦¼ íƒ­| S029P[S-029<br/>ì²­êµ¬ì„œ ìƒì„¸<br/>í•™ë¶€ëª¨]
                    S027P -->|ì²­êµ¬ì„œ ëª©ë¡| S029P
                    
                    S029P -->|ë‚´ìš© í™•ì¸| CHECK{í™•ì¸}
                    CHECK -->|ê²°ì œí•˜ê¸°| S030[S-030<br/>ê²°ì œí•˜ê¸°]
                    CHECK -->|ë¬¸ì˜| CONTACT[ì¹´í†¡/ì „í™”]
                    
                    S030 -->|í† ìŠ¤í˜ì´ë¨¼ì¸ | TOSS[ê²°ì œì°½]
                    TOSS -->|ì„±ê³µ| S031[S-031<br/>ê²°ì œ ì™„ë£Œ]
                    TOSS -->|ì‹¤íŒ¨| ERROR[ì—ëŸ¬ ì²˜ë¦¬]
                    
                    S031 -->|3ì´ˆ í›„| S032[S-032<br/>ì˜ìˆ˜ì¦ ìƒì„¸]
                    S032 -->|ë‹¤ìš´ë¡œë“œ| PDF[PDF ìƒì„±]
                    S032 -->|ê³µìœ | SHARE[ì¹´í†¡/ì´ë©”ì¼]
                    
                    S031 -->|ì•Œë¦¼ ë°œì†¡| NOTI2[ì„ ìƒë‹˜<br/>í‘¸ì‹œ ì•Œë¦¼]
                    NOTI2 --> S041T[S-041<br/>ì•Œë¦¼ ì„¼í„°<br/>ì„ ìƒë‹˜]
                    S041T --> S029T2[S-029<br/>ì²­êµ¬ì„œ ìƒì„¸<br/>ê²°ì œ ì™„ë£Œ í‘œì‹œ]
                    
                    S027T -->|í†µê³„| S033T[S-033<br/>ì •ì‚° í†µê³„<br/>ìˆ˜ì…]
                    S027P -->|í†µê³„| S033P[S-033<br/>ì •ì‚° í†µê³„<br/>ì§€ì¶œ]
                    
                    style S027T fill:#ffa751,stroke:#333,stroke-width:3px,color:#fff
                    style S027P fill:#ffa751,stroke:#333,stroke-width:3px,color:#fff
                    style S028 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S029T fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S029P fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S030 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S031 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S032 fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S033T fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S033P fill:#ffa751,stroke:#333,stroke-width:2px,color:#fff
                    style S041T fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style S041P fill:#fa709a,stroke:#333,stroke-width:2px,color:#fff
                    style CHECK fill:#ffe66d,stroke:#333,stroke-width:2px
                    style T fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style P fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
            `
        };

        function changeView() {
            const select = document.getElementById('viewSelect');
            const view = select.value;
            const chartContainer = document.getElementById('flowchart');
            
            chartContainer.innerHTML = flows[view];
            chartContainer.removeAttribute('data-processed');
            mermaid.init(undefined, chartContainer);
        }

        function resetView() {
            document.getElementById('viewSelect').value = 'full';
            document.getElementById('roleFilter').value = 'all';
            changeView();
        }

        // ì´ˆê¸° ë¡œë“œ
        window.addEventListener('DOMContentLoaded', function() {
            changeView();
        });
    </script>
</body>
</html>
